(this.webpackJsonpweather_spa=this.webpackJsonpweather_spa||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),r=n(7),s=n.n(r),i=(n(14),n(9)),o=n(2),l=(n(15),n(16),n(6)),u=n.n(l),d=n(8);function b(t){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function t(e){var n,c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"13a6405deb1e9db72af059a8a82740ff",n="https://api.openweathermap.org/data/2.5/weather?q=".concat(function(t){return t.substr(0,1).toUpperCase()+t.slice(1).toLowerCase()}(e),"&appid=").concat("13a6405deb1e9db72af059a8a82740ff"),t.next=5,fetch(n);case 5:return c=t.sent,t.next=8,c.json();case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(18);var f=n(0),p=function(t){var e=t.city,n=t.onDelete,a=Object(c.useState)({}),r=Object(o.a)(a,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){b(e).then((function(t){return i(t)}))}),[e]),s.base?Object(f.jsxs)("div",{className:"CityCard card border border-secondary",children:[Object(f.jsxs)("div",{className:"CityCard__title",children:["".concat(s.name," , ").concat(s.sys.country," "),Object(f.jsx)("img",{src:"https://www.countryflags.io/".concat(s.sys.country,"/flat/16.png"),alt:"flag-icon"})]}),Object(f.jsxs)("div",{className:"CityCard__desciption",children:[Object(f.jsx)("img",{className:"CityCard__icon align-baseline",src:"http://openweathermap.org/img/w/".concat(s.weather[0].icon,".png"),alt:"weather-icon"}),Object(f.jsx)("span",{className:"CityCard__temperature",children:"".concat(Math.round(s.main.temp-273.15)," \xb0C")}),Object(f.jsx)("div",{className:"CityCard__wind",children:"Wind: ".concat(s.wind.speed," m/s")}),Object(f.jsx)("div",{className:"CityCard__clouds",children:"Clouds: ".concat(s.clouds.all," %")}),Object(f.jsx)("div",{className:"CityCard__hpa",children:"Pressure:".concat(.75*s.main.pressure," mm")})]}),Object(f.jsxs)("div",{className:"container CityCard__button-container",children:[Object(f.jsx)("button",{className:"CityCard__button-delete btn btn-sm h-100 w-50 p-1 align-bottom ",onClick:function(){return n(e)}}),Object(f.jsx)("button",{onClick:function(){b(e).then((function(t){return i(t)}))},className:"CityCard__button-refresh btn btn-sm h-100 w-50 p-1"})]})]},s.id):""},h=function(t){var e=t.cities,n=t.onDelete;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"CityList row row-cols-1 row-cols-sm-2 row-cols-md-4",children:[console.log("CITIES",e),e?e.map((function(t){return Object(f.jsx)(p,{city:t,onDelete:n})})):"Select Cities"]})})},m=function(){var t=function(t,e){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(c){return console.log(c),e}})),a=Object(o.a)(n,2),r=a[0],s=a[1];return[r,function(e){try{var n=e instanceof Function?e(r):e;s(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(c){console.log(c)}}]}("cities",[]),e=Object(o.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),l=s[0],u=s[1];return console.log("STATE _ CITIES - ",n),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(l).catch((function(t){return u("")})),l.length<2?alert("Please enter valid city name"):n.includes(l)?alert("City already added"):a([].concat(Object(i.a)(n),[l])),u("")},className:"d-flex justify-content-center",children:[Object(f.jsx)("input",{type:"text",value:l,placeholder:"Input City",onChange:function(t){var e=t.target.value;u(e)},className:"col-2"}),Object(f.jsx)("button",{type:"submit",className:"col-1 btn btn-secondary",children:"Add"}),Object(f.jsx)("button",{type:"button",onClick:function(){return a([])},className:"col-1 btn btn-secondary",children:"Clear"})]}),Object(f.jsx)(h,{cities:n,onDelete:function(t){var e=n.filter((function(e){return e!==t}));a(e)}})]})};var C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),C()}},[[20,1,2]]]);
//# sourceMappingURL=main.decc4440.chunk.js.map