{"version":3,"sources":["components/Modal/Modal.jsx","api/api.js","components/CityCard/CityCard.jsx","components/CitiesList/CitiesList.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["handleKeyDown","Modal","data","active","setModalActive","className","onClick","role","onKeyDown","tabIndex","name","sys","country","src","alt","weather","icon","Math","round","main","temp","description","wind","speed","clouds","all","pressure","getWeather","city","a","ApiUrl","string","substr","toUpperCase","slice","toLowerCase","capitalize","fetch","response","json","cityWeather","CityCard","onDelete","useState","setData","modalActive","useEffect","then","result","cod","base","event","target","type","id","CitiesList","React","memo","cities","map","App","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","console","log","useLocalStorage","setCities","input","setInput","useCallback","cityName","filteredCities","filter","onSubmit","preventDefault","length","document","querySelector","style","backgroundColor","includes","placeholder","onChange","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e9d3c8f3.chunk.js","sourcesContent":["import React from 'react';\nimport './modal.css';\n\nconst handleKeyDown = () => {};\nconst Modal = ({ data, active, setModalActive }) => (\n  <div\n    className={active ? 'modal active' : 'modal'}\n    onClick={() => setModalActive(false)}\n    role=\"button\"\n    onKeyDown={handleKeyDown}\n    tabIndex=\"0\"\n  >\n    <div className={active ? 'modal__content active' : 'modal__content'}>\n      <div className=\"modal__content__title\">\n        {`${data.name} , ${data.sys.country} `}\n        <img\n          src={`https://www.countryflags.io/${data.sys.country}/flat/16.png`}\n          alt=\"\"\n        />\n      </div>\n      <div className=\"modal__content__desciption\">\n        <div className=\"modal__content__main\">\n          <img\n            className=\"modal__content__icon align-baseline\"\n            src={`http://openweathermap.org/img/w/${data.weather[0].icon}.png`}\n            alt=\"weather-icon\"\n          />\n          <span className=\"modal__content__temperature\">\n            {`${Math.round(data.main.temp - 273.15)} °C`}\n          </span>\n        </div>\n        <div className=\"modal__content__description\">\n          {`${data.weather[0].description}`}\n        </div>\n        <div className=\"modal__content__wind\">\n          {`Wind: ${data.wind.speed} m/s`}\n        </div>\n        <div className=\"modal__content__clouds\">\n          {`Clouds: ${data.clouds.all} %`}\n        </div>\n        <div className=\"modal__content__hpa\">\n          {`Pressure: ${Math.round(data.main.pressure * 0.75)} mm`}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Modal;\n","export async function getWeather(city) {\n  function capitalize(string) {\n    return string.substr(0, 1).toUpperCase() + string.slice(1).toLowerCase();\n  }\n\n  const ApiKey = '71bfaa0157885f1150e345c287fba8cd';\n  const ApiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${capitalize(city)}&appid=${ApiKey}`;\n\n  const response = await fetch(ApiUrl);\n  const cityWeather = await response.json();\n\n  return cityWeather;\n}\n","import React, { useEffect, useState } from 'react';\nimport Modal from '../Modal/Modal';\nimport { getWeather } from '../../api/api';\nimport './CityCard.css';\n\nexport const CityCard = ({ city, onDelete }) => {\n  const [data, setData] = useState({});\n  const [modalActive, setModalActive] = useState(false);\n  const handleClick = () => {\n    getWeather(city).then((result) => setData(result));\n  };\n  const handleKeyDown = () => {};\n\n  useEffect(() => {\n    getWeather(city)\n      .then((result) => {\n        if (result.cod === 200) {\n          setData(result);\n          return;\n        }\n        onDelete(city);\n      });\n  }, []);\n\n  return data.base ? (\n    <>\n      <div\n        key={data.id}\n        className=\"city-card card border border-secondary\"\n        onClick={(event) => {\n          if (event.target.type !== 'button') {\n            setModalActive(true);\n          }\n        }}\n        role=\"button\"\n        onKeyDown={handleKeyDown}\n        tabIndex=\"0\"\n      >\n\n        <div className=\"city-card__title\">\n          {`${data.name}`}\n          <div>\n            {`${data.sys.country}`}\n            <img\n              src={`https://www.countryflags.io/${data.sys.country}/flat/32.png`}\n              alt=\"\"\n            />\n          </div>\n        </div>\n        <div className=\"city-card__desciption\">\n          <div className=\"city-card__main\">\n            <img\n              className=\"city-card__icon align-baseline\"\n              src={`http://openweathermap.org/img/w/${data.weather[0].icon}.png`}\n              alt=\"weather-icon\"\n            />\n            <span className=\"city-card__temperature\">\n              {`${Math.round(data.main.temp - 273.15)} °C`}\n            </span>\n          </div>\n        </div>\n        <div className=\"container city-card__button-container\">\n          <input\n            type=\"button\"\n            className=\"city-card__button-delete btn btn-sm h-100 w-50 p-1 align-bottom\"\n            onClick={() => onDelete(city)}\n          />\n          <input\n            type=\"button\"\n            onClick={() => handleClick()}\n            className=\"city-card__button-refresh btn btn-sm h-100 w-50 p-1\"\n          />\n        </div>\n      </div>\n      { modalActive\n      && <Modal data={data} active={modalActive} setModalActive={setModalActive} />}\n    </>\n  )\n    : '';\n};\n","import React from 'react';\nimport './CityList.css';\nimport { CityCard } from '../CityCard/CityCard';\n\nexport const CitiesList = React.memo(({ cities, onDelete }) => (\n  <div className=\"city-list row row-cols-1 row-cols-sm-2 row-cols-md-4\">\n    {cities ? cities.map((city) => (\n      <CityCard city={city} onDelete={onDelete} />\n    )) : 'Select Cities'}\n  </div>\n));\n","import React, { useState, useCallback } from 'react';\nimport './App.css';\nimport { CitiesList } from './components/CitiesList/CitiesList';\n\nfunction useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport const App = () => {\n  const [cities, setCities] = useLocalStorage('cities', []);\n  const [input, setInput] = useState('');\n\n  const onDelete = useCallback((cityName) => {\n    const filteredCities = cities\n      .filter((city) => city !== cityName);\n    setCities(filteredCities);\n  });\n\n  const AddCity = (event) => {\n    event.preventDefault();\n\n    if (input.length < 2) {\n      setInput('Please enter valid city name');\n      document.querySelector('.form__input').style.backgroundColor = 'red';\n    } else if (!cities.includes(input)) {\n      setCities([...cities, input]);\n    } else {\n      document.querySelector('.form__input').style.backgroundColor = 'red';\n      setInput('City already added');\n    }\n  };\n\n  function changeValue(event) {\n    const { target } = event;\n    const { value } = target;\n\n    if (target.style.backgroundColor === 'red') {\n      target.style.backgroundColor = '#d9c88b';\n    }\n    setInput(value);\n  }\n\n  return (\n    <div className=\"App\">\n      <form\n        onSubmit={AddCity}\n        className=\"form d-flex justify-content-center\"\n      >\n        <input\n          type=\"text\"\n          value={input}\n          placeholder=\"Input City\"\n          onChange={changeValue}\n          className=\"form__input col-4\"\n        />\n        <button\n          type=\"submit\"\n          className=\"form__button col-2 btn\"\n        >\n          Add\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => setCities([])}\n          className=\"form__button col-2 btn\"\n        >\n          Clear\n        </button>\n      </form>\n      <CitiesList cities={cities} onDelete={onDelete} />\n    </div>\n  );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}