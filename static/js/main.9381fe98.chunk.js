(this.webpackJsonpweather_spa=this.webpackJsonpweather_spa||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),o=n(7),r=n.n(o),s=(n(14),n(9)),i=n(2),l=(n(15),n(16),n(17),n(0)),d=function(){},u=function(t){var e=t.data,n=t.active,c=t.setModalActive;return Object(l.jsx)("div",{className:n?"modal active":"modal",onClick:function(){return c(!1)},role:"button",onKeyDown:d,tabIndex:"0",children:Object(l.jsxs)("div",{className:"modal__content",children:[Object(l.jsxs)("div",{className:"modal__content__title",children:["".concat(e.name," , ").concat(e.sys.country," "),Object(l.jsx)("img",{src:"https://www.countryflags.io/".concat(e.sys.country,"/flat/16.png"),alt:""})]}),Object(l.jsxs)("div",{className:"modal__content__desciption",children:[Object(l.jsxs)("div",{className:"modal__content__main",children:[Object(l.jsx)("img",{className:"modal__content__icon align-baseline",src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:"weather-icon"}),Object(l.jsx)("span",{className:"modal__content__temperature",children:"".concat(Math.round(e.main.temp-273.15)," \xb0C")})]}),Object(l.jsx)("div",{className:"modal__content__description",children:"".concat(e.weather[0].description)}),Object(l.jsx)("div",{className:"modal__content__wind",children:"Wind: ".concat(e.wind.speed," m/s")}),Object(l.jsx)("div",{className:"modal__content__clouds",children:"Clouds: ".concat(e.clouds.all," %")}),Object(l.jsx)("div",{className:"modal__content__hpa",children:"Pressure: ".concat(Math.round(.75*e.main.pressure)," mm")})]})]})})},b=n(6),m=n.n(b),j=n(8);function p(t){return _.apply(this,arguments)}function _(){return(_=Object(j.a)(m.a.mark((function t(e){var n,c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"71bfaa0157885f1150e345c287fba8cd",n="https://api.openweathermap.org/data/2.5/weather?q=".concat(function(t){return t.substr(0,1).toUpperCase()+t.slice(1).toLowerCase()}(e),"&appid=").concat("71bfaa0157885f1150e345c287fba8cd"),t.next=5,fetch(n);case 5:return c=t.sent,t.next=8,c.json();case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(20);var f=function(t){var e=t.city,n=t.onDelete,a=Object(c.useState)({}),o=Object(i.a)(a,2),r=o[0],s=o[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),m=b[0],j=b[1];return Object(c.useEffect)((function(){p(e).then((function(t){200!==t.cod?n(e):s(t)}))}),[]),r.base?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"city-card card border border-secondary",onClick:function(t){"button"!==t.target.type&&j(!0)},role:"button",onKeyDown:function(){},tabIndex:"0",children:[Object(l.jsxs)("div",{className:"city-card__title",children:["".concat(r.name),Object(l.jsxs)("div",{children:["".concat(r.sys.country),Object(l.jsx)("img",{src:"https://www.countryflags.io/".concat(r.sys.country,"/flat/16.png"),alt:""})]})]}),Object(l.jsx)("div",{className:"city-card__desciption",children:Object(l.jsxs)("div",{className:"city-card__main",children:[Object(l.jsx)("img",{className:"city-card__icon align-baseline",src:"http://openweathermap.org/img/w/".concat(r.weather[0].icon,".png"),alt:"weather-icon"}),Object(l.jsx)("span",{className:"city-card__temperature",children:"".concat(Math.round(r.main.temp-273.15)," \xb0C")})]})}),Object(l.jsxs)("div",{className:"container city-card__button-container",children:[Object(l.jsx)("input",{type:"button",className:"city-card__button-delete btn btn-sm h-100 w-50 p-1 align-bottom",onClick:function(){return n(e)}}),Object(l.jsx)("input",{type:"button",onClick:function(){p(e).then((function(t){return s(t)}))},className:"city-card__button-refresh btn btn-sm h-100 w-50 p-1"})]})]},r.id),m&&Object(l.jsx)(u,{data:r,active:m,setModalActive:j})]}):""},h=a.a.memo((function(t){var e=t.cities,n=t.onDelete;return Object(l.jsx)("div",{className:"city-list row row-cols-1 row-cols-sm-2 row-cols-md-4",children:e?e.map((function(t){return Object(l.jsx)(f,{city:t,onDelete:n})})):"Select Cities"})}));var O=function(){var t=function(t,e){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(c){return e}})),a=Object(i.a)(n,2),o=a[0],r=a[1];return[o,function(e){try{var n=e instanceof Function?e(o):e;r(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(c){console.log(c)}}]}("cities",[]),e=Object(i.a)(t,2),n=e[0],a=e[1],o=Object(c.useState)(""),r=Object(i.a)(o,2),d=r[0],u=r[1],b=Object(c.useCallback)((function(t){var e=n.filter((function(e){return e!==t}));a(e)}));return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),d.length<2?(u("Please enter valid city name"),document.querySelector(".form__input").style.backgroundColor="red"):n.includes(d)?(document.querySelector(".form__input").style.backgroundColor="red",u("City already added")):a([].concat(Object(s.a)(n),[d]))},className:"form d-flex justify-content-center",children:[Object(l.jsx)("input",{type:"text",value:d,placeholder:"Input City",onChange:function(t){var e=t.target,n=e.value;"red"===e.style.backgroundColor&&(e.style.backgroundColor="#d9c88b"),u(n)},className:"form__input col-4"}),Object(l.jsx)("button",{type:"submit",className:"form__button col-2 btn",children:"Add"}),Object(l.jsx)("button",{type:"button",onClick:function(){return a([])},className:"form__button col-2 btn",children:"Clear"})]}),Object(l.jsx)(h,{cities:n,onDelete:b})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),o(t),r(t)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),y()}],[[21,1,2]]]);
//# sourceMappingURL=main.9381fe98.chunk.js.map